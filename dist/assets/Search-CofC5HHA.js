import{_ as V,u as z,r as c,m as A,o as B,q as k,s as R,a as r,c as d,b as e,w as g,t as x,d as v,F as S,x as I,y as U,z as n,j as L,A as C,g as w,v as j,i as M,B as J,p as O,e as F}from"./index-BsYwPD8T.js";import{_ as G}from"./餐廳-GKHsiEiw.js";const K=""+new URL("街道1-K1tPYv20.jpg",import.meta.url).href,Y=""+new URL("街道2--LaTGUNL.jpg",import.meta.url).href,$=""+new URL("街道3-DnBa7czz.jpg",import.meta.url).href,_=f=>(O("data-v-5db09ff5"),f=f(),F(),f),H={id:"carouselExampleAutoplaying",class:"carousel slide","data-bs-ride":"carousel"},Q={class:"carousel-inner"},W=U('<div class="carousel-item active" data-v-5db09ff5><img src="'+K+'" class="d-block w-100" data-v-5db09ff5></div><div class="carousel-item" data-v-5db09ff5><img src="'+Y+'" class="d-block w-100" data-v-5db09ff5></div><div class="carousel-item" data-v-5db09ff5><img src="'+$+'" class="d-block w-100" data-v-5db09ff5></div>',3),X=_(()=>e("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"prev"},[e("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),e("span",{class:"visually-hidden"},"Previous")],-1)),Z=_(()=>e("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1)),ee=_(()=>e("span",{class:"visually-hidden"},"Next",-1)),te=[Z,ee],ae={class:"error"},se={class:"wrapperout"},oe={class:"imgcontainer"},le={key:0,src:G,alt:""},ne=["src"],ie={class:"text-container"},ce=["href"],re=["id"],de={class:"modal-dialog"},ue={class:"modal-content"},pe=_(()=>e("div",{class:"modal-header",style:{"background-color":"#4a95ca"}},[e("h1",{class:"modal-title",id:"exampleModalLabel",style:{"font-size":"60px",color:"white"}}," 留言區"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),me={class:"modal-body"},_e={class:"comments"},he={class:"time"},ve=_(()=>e("hr",null,null,-1)),fe={class:"modal-footer"},ge=_(()=>e("h1",null,"留下評論:",-1)),ye=["data-bs-target"],be={class:"badge"},xe={__name:"Search",setup(f){let q=z(),s=c([]),y=c([]);const i=A(),N=c(),u=c(),p=c();let m=c("");B(()=>{s.value=JSON.parse(localStorage.getItem("data")),b(),N.value.click();let a=1,l=1;u.value.addEventListener("animationend",()=>{u.value.style.animationPlayState="paused",u.value.style.animationIterationCount=a,setTimeout(()=>{u.value.style.animationPlayState="running",++a,u.value.style.animationIterationCount=a},5e3)}),p.value.addEventListener("animationend",()=>{p.value.style.animationPlayState="paused",p.value.style.animationIterationCount=l,setTimeout(()=>{p.value.style.animationPlayState="running",++l,p.value.style.animationIterationCount=l},5e3)}),q.isLogin=!0});function b(){i.query.text?y.value=s.value.filter(a=>a.Description.includes(i.query.text)):i.query.city&&i.query.place&&(y.value=s.value.filter(a=>a.Town===i.query.place))}let T=c("color"),P=c("color2");function D(a){let l=a.target.parentNode.parentNode.children[0].innerText;for(let o=0;o<s.value.length;o++)s.value[o].Id===l&&(a.target.className.baseVal.includes("color2")?s.value[o].liked=!1:s.value[o].liked=!0);localStorage.setItem("data",JSON.stringify(s.value))}function E(a){let l=new Date,o=a.target.parentNode.parentNode.children[1].children[0].innerText;console.log(a.target.parentNode.parentNode.children[1].innerText);for(let t=0;t<s.value.length;t++)s.value[t].Name===o&&(s.value[t].Comments.push([m.value,l.toLocaleString()]),console.log(s.value[t]));localStorage.setItem("data",JSON.stringify(s.value)),m.value=""}return k(()=>i.query.text,b),k(()=>i.query.place,b),(a,l)=>{const o=R("font-awesome-icon");return r(),d(S,null,[e("div",H,[e("div",Q,[e("h5",{ref_key:"h5",ref:u},"發現台灣 ",512),e("h6",{ref_key:"h6",ref:p},"好味道",512),W]),X,e("button",{ref_key:"next",ref:N,class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"next"},te,512)]),g(e("h1",ae,"找不到您要的資料",512),[[x,v(i).query.city==="臺北市"]]),e("div",se,[(r(!0),d(S,null,I(v(y),t=>(r(),d("div",{class:"foodcard",key:t.Id},[g(e("div",null,n(t.Id),513),[[x,!1]]),e("div",oe,[t.Picture1===""?(r(),d("img",le)):L("",!0),t.Picture1!==""?(r(),d("img",{key:1,src:t.Picture1,alt:""},null,8,ne)):L("",!0)]),e("div",ie,[e("h1",null,n(t.Name),1),e("h2",null,n(t.Description),1),e("h3",null,[C(n(t.Add),1),e("a",{target:"_blank",class:"googlemap",href:`https://www.google.com/maps/search/?api=1&query=${t.Name}`},[w(o,{icon:["fas","location-dot"]})],8,ce)]),e("h3",null,n(t.Tel),1),e("div",{class:"modal fade modal-dialog-scrollable",id:t.Id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[e("div",de,[e("div",ue,[pe,e("div",me,[g(e("h1",{class:"name"},n(t.Name),513),[[x,!1]]),(r(!0),d(S,null,I(t.Comments,h=>(r(),d("h1",_e,[C(n(h[0])+" ",1),e("span",he,n(h[1]),1),ve]))),256))]),e("div",fe,[ge,g(e("input",{autofocus:"",style:{width:"84%"},"onUpdate:modelValue":l[0]||(l[0]=h=>M(m)?m.value=h:m=h),type:"text"},null,512),[[j,v(m)]]),e("button",{onClick:E,type:"button",class:"btn submit"},"提交")])])])],8,re)]),e("div",{id:"comment",type:"button","data-bs-toggle":"modal","data-bs-target":"#"+t.Id,"aria-expanded":"false","aria-controls":"collapseExample"},[w(o,{icon:["far","comment"]}),e("span",be,n(t.Comments.length),1)],8,ye),e("span",{onClick:D},[w(o,{icon:["far","heart"],class:J(t.liked?v(P):v(T))},null,8,["class"])])]))),128))])],64)}}},Ne=V(xe,[["__scopeId","data-v-5db09ff5"]]);export{Ne as default};
